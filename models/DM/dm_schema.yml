version: 2

models:
  - name: dm_product_analytics
    description: "Aggregated product performance metrics including total sales, average price, and units sold, securely viewed."
    columns:
      - name: product_id
        description: "Unique identifier for the product."
        tests:
          - not_null
          - unique
      - name: product_name
        description: "Name of the product."
      - name: category
        description: "Product category."
      - name: units_sold
        description: "Total units sold for each product."
      - name: total_revenue
        description: "Total revenue generated from each product."
      - name: average_price
        description: "Average selling price of the product."
      - name: last_updated
        description: "Timestamp of the last update."

  - name: dm_customer_segmentation
    description: "Customer segmentation based on purchasing behavior to enable targeted marketing."
    columns:
      - name: customer_id
        description: "Unique identifier for the customer."
        tests:
          - not_null
          - unique
      - name: name
        description: "Customer's name."
      - name: email
        description: "Customer's email address."
        tests:
          - not_null
      - name: number_of_purchases
        description: "Total number of purchases made by the customer."
      - name: total_spent
        description: "Total amount spent by the customer."
      - name: customer_segment
        description: "Segment classification of the customer based on total spent."
      - name: last_updated
        description: "Timestamp of the last update."

  # - name: dm_monthly_sales_performance
  #   description: "Monthly sales performance tracking total sales and quantity by month, using incremental updates for efficiency."
  #   columns:
  #     - name: month_year
  #       description: "Concatenation of the month and year of the sales."
  #       tests:
  #         - not_null
  #         - unique
  #     - name: total_quantity
  #       description: "Total quantity of products sold in the month."
  #     - name: total_sales
  #       description: "Total sales amount for the month."
  #     - name: number_of_stores
  #       description: "Number of stores contributing to the sales figures."
  #     - name: last_updated
  #       description: "Timestamp for the most recent update."

